<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title></title>
        <script type="importmap">
            {
                "imports": {
                    "tweakpane": "../node_modules/tweakpane/dist/tweakpane.js",
                    "@tweakpane/core": "../node_modules/@tweakpane/core/dist/index.js"
                }
            }
        </script>
        <style>
            /* size manipulation according to: https://github.com/cocopon/tweakpane/issues/46#issuecomment-633388907  */

            /* Default wrapper view */
            .tableContainer {
                width: 350px;
            }

            /* Blades view */
            .tableContainer .tp-lblv_v {
                min-width: fit-content;
            }
        </style>
    </head>
    <body>
        <script type="module">
            import { Pane } from '../node_modules/tweakpane/dist/tweakpane.js';
            import { plugins as TweakpaneTablePlugin } from '../dist/tweakpane-table.mjs';

            const rootElm = document.createElement('div');
            rootElm.classList = 'tableContainer';
            document.body.appendChild(rootElm);
            const params = {
                prop: 3,
            };
            // const pane = new Pane({ container: rootElm });
            const pane = new Pane();
            pane.element.parentElement.classList = 'tableContainer';

            // Register plugin (v4 ES module)
            pane.registerPlugin(TweakpaneTablePlugin);

            pane.addBlade({
                view: 'tableHead',
                label: 'Label',
                headers: [
                    { label: 'Text', width: '80px' },
                    { label: 'List', width: '160px' },
                ],
            });

            pane.addBlade({
                view: 'tableRow',
                label: 'row 1',
                cells: [
                    {
                        view: 'text',
                        width: '80px',
                        parse: (v) => String(v),
                        value: 'sketch-01',
                    },
                    {
                        view: 'list',
                        width: '160px',
                        options: [
                            { text: 'loading', value: 'LDG' },
                            { text: 'menu', value: 'MNU' },
                            { text: 'field', value: 'FLD' },
                        ],
                        value: 'LDG',
                    },
                ],
            });
            pane.addBlade({
                view: 'tableRow',
                label: 'row 2',
                cells: [
                    {
                        view: 'text',
                        width: '80px',
                        parse: (v) => String(v),
                        value: 'sketch-02',
                    },
                    {
                        view: 'list',
                        width: '160px',
                        options: [
                            { text: 'loading', value: 'LDG' },
                            { text: 'menu', value: 'MNU' },
                            { text: 'field', value: 'FLD' },
                        ],
                        value: 'MNU',
                    },
                ],
            });
            window.pane = pane;
        </script>
    </body>
</html>
